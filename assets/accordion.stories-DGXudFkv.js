import{t as C,D as q,T as g,a as I}from"./twig--J2y2TUI.js";import{g as F}from"./_commonjsHelpers-D6-XlEtG.js";const S=function(l){const a={"kinetic:badge":"./components/00-elements/badge/badge.twig","kinetic:title":"./components/01-composites/title/title.twig"};l.extendFunction("include",(d,u)=>{const m=a[d];if(!m)throw new Error(`Template ${d} not found`);return l.twig({id:d,href:m,async:!1}).render(u)})};S(g);const O=r=>r.extendFilter("clean_unique_id",()=>l=>l.split(" ").reverse().join(" "));O(g);I(g);g.cache(!1);const w=r=>r,_=(r={})=>{const l=C.twig({id:"/home/runner/work/propel-components/propel-components/components/02-blocks/accordion/accordion.twig",data:[{type:"logic",token:{type:"Twig.logic.type.set",key:"attributes",expression:[{type:"Twig.expression.type.variable",value:"attributes",match:["attributes"]},{type:"Twig.expression.type.key.period",key:"setAttribute"},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!0,params:[{type:"Twig.expression.type.string",value:"data-open"},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.variable",value:"open",match:["open"]},{type:"Twig.expression.type.filter",value:"default",match:["|default","default"],params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.bool",value:!1},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]}],position:{start:0,end:80}},position:{start:0,end:80}},{type:"logic",token:{type:"Twig.logic.type.set",key:"attributes",expression:[{type:"Twig.expression.type.variable",value:"attributes",match:["attributes"]},{type:"Twig.expression.type.key.period",key:"setAttribute"},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!0,params:[{type:"Twig.expression.type.string",value:"data-allow-multiple"},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.variable",value:"allow_multiple",match:["allow_multiple"]},{type:"Twig.expression.type.filter",value:"default",match:["|default","default"],params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.bool",value:!1},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]}],position:{start:81,end:181}},position:{start:81,end:181}},{type:"raw",value:`
<div `,position:{start:182,end:188}},{type:"output",position:{start:188,end:226},stack:[{type:"Twig.expression.type.variable",value:"attributes",match:["attributes"],position:{start:188,end:226}},{type:"Twig.expression.type.key.period",position:{start:188,end:226},key:"addClass"},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],position:{start:188,end:226},expression:!0,params:[{type:"Twig.expression.type.string",value:"accordion",position:{start:188,end:226}}]}]},{type:"raw",value:`>
  `,position:{start:226,end:230}},{type:"output",position:{start:230,end:251},stack:[{type:"Twig.expression.type.variable",value:"accordion_items",match:["accordion_items"],position:{start:230,end:251}}]},{type:"raw",value:`
</div>

`,position:{start:251,end:251}}],precompiled:!0});l.options.allowInlineIncludes=!0;try{let a=r.defaultAttributes?r.defaultAttributes:[];return Array.isArray(a)||(a=Object.entries(a)),w(l.render({attributes:new q(a),...r}))}catch(a){return w("An error occurred whilst rendering /home/runner/work/propel-components/propel-components/components/02-blocks/accordion/accordion.twig: "+a.toString())}};var b={exports:{}},x;function P(){return x||(x=1,function(r){(function(l){let a=0;const d=function(u,m){const L=this;let y=!1;if(Array.isArray(u))return!!u.length&&u.map(e=>new d(e,m));const i={init(){this.options=Object.assign({duration:500,ariaEnabled:!0,collapse:!0,showMultiple:!1,onlyChildNodes:!0,openOnInit:[],elementClass:"ac",triggerClass:"ac-trigger",panelClass:"ac-panel",activeClass:"is-active",beforeOpen:()=>{},onOpen:()=>{},beforeClose:()=>{},onClose:()=>{}},m);const e=typeof u=="string";this.container=e?document.querySelector(u):u,this.createDefinitions(),L.attachEvents()},createDefinitions(){const{elementClass:e,openOnInit:t,onlyChildNodes:s}=this.options,o=s?this.container.childNodes:this.container.querySelectorAll(p(e));this.elements=Array.from(o).filter(n=>n.classList&&n.classList.contains(e)),this.firstElement=this.elements[0],this.lastElement=this.elements[this.elements.length-1],this.elements.filter(n=>!n.classList.contains("js-enabled")).forEach(n=>{n.classList.add("js-enabled"),this.generateIDs(n),this.setARIA(n),this.setTransition(n);const c=this.elements.indexOf(n);a++,t.includes(c)?this.showElement(n,!1):this.closeElement(n,!1)})},setTransition(e){let t=arguments.length>1&&arguments[1]!==void 0&&arguments[1];const{duration:s,panelClass:o}=this.options;e.querySelector(p(o)).style.transitionDuration=t?null:"".concat(s,"ms")},generateIDs(e){const{triggerClass:t,panelClass:s}=this.options,o=e.querySelector(p(t)),n=e.querySelector(p(s));e.setAttribute("id",e.id||"ac-".concat(a)),o.setAttribute("id",o.id||"ac-trigger-".concat(a)),n.setAttribute("id",n.id||"ac-panel-".concat(a))},removeIDs(e){const{triggerClass:t,panelClass:s}=this.options,o=e.querySelector(p(t)),n=e.querySelector(p(s));e.id.startsWith("ac-")&&e.removeAttribute("id"),o.id.startsWith("ac-")&&o.removeAttribute("id"),n.id.startsWith("ac-")&&n.removeAttribute("id")},setARIA(e){const{ariaEnabled:t,triggerClass:s,panelClass:o}=this.options;if(!t)return;const n=e.querySelector(p(s)),c=e.querySelector(p(o));n.setAttribute("role","button"),n.setAttribute("aria-controls",c.id),n.setAttribute("aria-disabled",!1),n.setAttribute("aria-expanded",!1),c.setAttribute("role","region"),c.setAttribute("aria-labelledby",n.id)},updateARIA(e,t){let{ariaExpanded:s,ariaDisabled:o}=t;const{ariaEnabled:n,triggerClass:c}=this.options;if(!n)return;const h=e.querySelector(p(c));h.setAttribute("aria-expanded",s),h.setAttribute("aria-disabled",o)},removeARIA(e){const{ariaEnabled:t,triggerClass:s,panelClass:o}=this.options;if(!t)return;const n=e.querySelector(p(s)),c=e.querySelector(p(o));n.removeAttribute("role"),n.removeAttribute("aria-controls"),n.removeAttribute("aria-disabled"),n.removeAttribute("aria-expanded"),c.removeAttribute("role"),c.removeAttribute("aria-labelledby")},focus(e,t){e.preventDefault();const{triggerClass:s}=this.options;t.querySelector(p(s)).focus()},focusFirstElement(e){this.focus(e,this.firstElement),this.currFocusedIdx=0},focusLastElement(e){this.focus(e,this.lastElement),this.currFocusedIdx=this.elements.length-1},focusNextElement(e){const t=this.currFocusedIdx+1;if(t>this.elements.length-1)return this.focusFirstElement(e);this.focus(e,this.elements[t]),this.currFocusedIdx=t},focusPrevElement(e){const t=this.currFocusedIdx-1;if(t<0)return this.focusLastElement(e);this.focus(e,this.elements[t]),this.currFocusedIdx=t},showElement(e){let t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];const{panelClass:s,activeClass:o,collapse:n,beforeOpen:c}=this.options;t&&c(e);const h=e.querySelector(p(s)),D=h.scrollHeight;e.classList.add(o),requestAnimationFrame(()=>{requestAnimationFrame(()=>{h.style.height=t?"".concat(D,"px"):"auto"})}),this.updateARIA(e,{ariaExpanded:!0,ariaDisabled:!n})},closeElement(e){let t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];const{panelClass:s,activeClass:o,beforeClose:n}=this.options,c=e.querySelector(p(s)),h=c.scrollHeight;e.classList.remove(o),t?(n(e),requestAnimationFrame(()=>{c.style.height="".concat(h,"px"),requestAnimationFrame(()=>{c.style.height=0})})):c.style.height=0,this.updateARIA(e,{ariaExpanded:!1,ariaDisabled:!1})},toggleElement(e){const{activeClass:t,collapse:s}=this.options,o=e.classList.contains(t);if(!o||s)return o?this.closeElement(e):this.showElement(e)},closeElements(){const{activeClass:e,showMultiple:t}=this.options;t||this.elements.forEach((s,o)=>{s.classList.contains(e)&&o!==this.currFocusedIdx&&this.closeElement(s)})},handleClick(e){const t=e.currentTarget;this.elements.forEach((s,o)=>{s.contains(t)&&e.target.nodeName!=="A"&&(this.currFocusedIdx=o,this.closeElements(),this.focus(e,s),this.toggleElement(s))})},handleKeydown(e){switch(e.key){case"ArrowUp":return this.focusPrevElement(e);case"ArrowDown":return this.focusNextElement(e);case"Home":return this.focusFirstElement(e);case"End":return this.focusLastElement(e);default:return null}},handleFocus(e){const t=e.currentTarget,s=this.elements.find(o=>o.contains(t));this.currFocusedIdx=this.elements.indexOf(s)},handleTransitionEnd(e){if(e.stopPropagation(),e.propertyName!=="height")return;const{onOpen:t,onClose:s}=this.options,o=e.currentTarget,n=parseInt(o.style.height),c=this.elements.find(h=>h.contains(o));n>0?(o.style.height="auto",t(c)):s(c)}};this.attachEvents=()=>{if(y)return;const{triggerClass:e,panelClass:t}=i.options;i.handleClick=i.handleClick.bind(i),i.handleKeydown=i.handleKeydown.bind(i),i.handleFocus=i.handleFocus.bind(i),i.handleTransitionEnd=i.handleTransitionEnd.bind(i),i.elements.forEach(s=>{const o=s.querySelector(p(e)),n=s.querySelector(p(t));o.addEventListener("click",i.handleClick),o.addEventListener("keydown",i.handleKeydown),o.addEventListener("focus",i.handleFocus),n.addEventListener("transitionend",i.handleTransitionEnd)}),y=!0},this.detachEvents=()=>{if(!y)return;const{triggerClass:e,panelClass:t}=i.options;i.elements.forEach(s=>{const o=s.querySelector(p(e)),n=s.querySelector(p(t));o.removeEventListener("click",i.handleClick),o.removeEventListener("keydown",i.handleKeydown),o.removeEventListener("focus",i.handleFocus),n.removeEventListener("transitionend",i.handleTransitionEnd)}),y=!1},this.toggle=e=>{const t=i.elements[e];t&&i.toggleElement(t)},this.open=e=>{const t=i.elements[e];t&&i.showElement(t)},this.openAll=()=>{const{activeClass:e,onOpen:t}=i.options;i.elements.forEach(s=>{s.classList.contains(e)||(i.showElement(s,!1),t(s))})},this.close=e=>{const t=i.elements[e];t&&i.closeElement(t)},this.closeAll=()=>{const{activeClass:e,onClose:t}=i.options;i.elements.forEach(s=>{s.classList.contains(e)&&(i.closeElement(s,!1),t(s))})},this.destroy=()=>{this.detachEvents(),this.openAll(),i.elements.forEach(e=>{i.removeIDs(e),i.removeARIA(e),i.setTransition(e,!0)}),y=!0},this.update=()=>{i.createDefinitions(),this.detachEvents(),this.attachEvents()};const p=e=>".".concat(CSS.escape(e));i.init()};r.exports!==void 0?r.exports=d:l.Accordion=d})(window)}(b)),b.exports}var H=P();const j=F(H);Drupal.behaviors.accordion={attach(r){once("accordion",".accordion",r).forEach(a=>{const{allowMultiple:d,open:u}=a.dataset,m={showMultiple:d==="true"};u==="true"&&(m.openOnInit=[0]),new j(a,m)})}};const R=function(l){const a={"kinetic:badge":"./components/00-elements/badge/badge.twig","kinetic:title":"./components/01-composites/title/title.twig"};l.extendFunction("include",(d,u)=>{const m=a[d];if(!m)throw new Error(`Template ${d} not found`);return l.twig({id:d,href:m,async:!1}).render(u)})};R(g);const $=r=>r.extendFilter("clean_unique_id",()=>l=>l.split(" ").reverse().join(" "));$(g);I(g);g.cache(!1);const A=r=>r,f=(r={})=>{const l=C.twig({id:"/home/runner/work/propel-components/propel-components/components/01-composites/accordion-item/accordion-item.twig",data:[{type:"logic",token:{type:"Twig.logic.type.set",key:"heading_level",expression:[{type:"Twig.expression.type.variable",value:"heading_level",match:["heading_level"]},{type:"Twig.expression.type.filter",value:"default",match:["|default","default"],params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.number",value:4,match:["4",null]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}],position:{start:0,end:50}},position:{start:0,end:50}},{type:"raw",value:`
<div`,position:{start:51,end:56}},{type:"output",position:{start:56,end:127},stack:[{type:"Twig.expression.type.variable",value:"attributes",match:["attributes"],position:{start:56,end:127}},{type:"Twig.expression.type.key.period",position:{start:56,end:127},key:"addClass"},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],position:{start:56,end:127},expression:!0,params:[{type:"Twig.expression.type.array.start",value:"[",match:["["],position:{start:56,end:127}},{type:"Twig.expression.type.string",value:"ac",position:{start:56,end:127}},{type:"Twig.expression.type.comma",position:{start:56,end:127}},{type:"Twig.expression.type.string",value:"pt-4",position:{start:56,end:127}},{type:"Twig.expression.type.comma",position:{start:56,end:127}},{type:"Twig.expression.type.string",value:"border-b-1",position:{start:56,end:127}},{type:"Twig.expression.type.comma",position:{start:56,end:127}},{type:"Twig.expression.type.string",value:"border-black",position:{start:56,end:127}},{type:"Twig.expression.type.array.end",value:"]",match:["]"],position:{start:56,end:127}}]}]},{type:"raw",value:`>
  <h`,position:{start:127,end:133}},{type:"output",position:{start:133,end:152},stack:[{type:"Twig.expression.type.variable",value:"heading_level",match:["heading_level"],position:{start:133,end:152}}]},{type:"raw",value:` class="ac-header font-bold relative">
    <button class="ac-trigger w-full text-left flex items-center justify-between" type="button">
      `,position:{start:152,end:294}},{type:"output",position:{start:294,end:307},stack:[{type:"Twig.expression.type.variable",value:"heading",match:["heading"],position:{start:294,end:307}}]},{type:"raw",value:`
    </button>
  </h`,position:{start:307,end:327}},{type:"output",position:{start:327,end:346},stack:[{type:"Twig.expression.type.variable",value:"heading_level",match:["heading_level"],position:{start:327,end:346}}]},{type:"raw",value:`>
  <div id="`,position:{start:346,end:359}},{type:"output",position:{start:359,end:374},stack:[{type:"Twig.expression.type.variable",value:"target_id",match:["target_id"],position:{start:359,end:374}}]},{type:"raw",value:`" class="ac-panel overflow-hidden">
    <div class="ac-text text-formatted py-3">
        `,position:{start:374,end:464}},{type:"output",position:{start:464,end:474},stack:[{type:"Twig.expression.type.variable",value:"body",match:["body"],position:{start:464,end:474}}]},{type:"raw",value:`
    </div>
  </div>
</div>
`,position:{start:474,end:474}}],precompiled:!0});l.options.allowInlineIncludes=!0;try{let a=r.defaultAttributes?r.defaultAttributes:[];return Array.isArray(a)||(a=Object.entries(a)),A(l.render({attributes:new q(a),...r}))}catch(a){return A("An error occurred whilst rendering /home/runner/work/propel-components/propel-components/components/01-composites/accordion-item/accordion-item.twig: "+a.toString())}},N={title:"02-blocks/accordion",tags:["autodocs"],parameters:{docs:{description:{component:"A bootstrap accordion. Providing a trigger and a accordion."},source:{code:"drush propel:add accordion"}}},argTypes:{open:{control:{type:"boolean"},type:{required:!1,name:""},description:"Check if the first item should be opened by default.",table:{type:{summary:"boolean"}}},allow_multiple:{control:{type:"boolean"},type:{required:!1,name:""},description:"Check if multiple items can be opened at the same time.",table:{type:{summary:"boolean"}}}},component:_},v={args:{open:!0,allow_multiple:!0},render:r=>`${_({...r,accordion_items:()=>{let l="";return l+=f({heading:"Heading 1",body:"<p> Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent sodales diam quis ligula rhoncus, et feugiat mauris congue. Donec accumsan sed arcu id laoreet. </p>"}),l+=f({heading:"Heading 2",body:"<p> Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent sodales diam quis ligula rhoncus, et feugiat mauris congue. Donec accumsan sed arcu id laoreet. </p>"}),l+=f({heading:"Heading 3",body:"<p> Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent sodales diam quis ligula rhoncus, et feugiat mauris congue. Donec accumsan sed arcu id laoreet. </p>"}),l+=f({heading:"Heading 4",body:"<p> Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent sodales diam quis ligula rhoncus, et feugiat mauris congue. Donec accumsan sed arcu id laoreet. </p>"}),l}})}`};var E,T,k;v.parameters={...v.parameters,docs:{...(E=v.parameters)==null?void 0:E.docs,source:{originalSource:`{
  args: {
    open: true,
    allow_multiple: true
  },
  render: context => {
    return \`\${accordion({
      ...context,
      accordion_items: () => {
        let markup = '';
        markup += AccordionItem({
          heading: \`Heading 1\`,
          body: '<p> Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent sodales diam quis ligula rhoncus, et feugiat mauris congue. Donec accumsan sed arcu id laoreet. </p>'
        });
        markup += AccordionItem({
          heading: \`Heading 2\`,
          body: '<p> Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent sodales diam quis ligula rhoncus, et feugiat mauris congue. Donec accumsan sed arcu id laoreet. </p>'
        });
        markup += AccordionItem({
          heading: \`Heading 3\`,
          body: '<p> Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent sodales diam quis ligula rhoncus, et feugiat mauris congue. Donec accumsan sed arcu id laoreet. </p>'
        });
        markup += AccordionItem({
          heading: \`Heading 4\`,
          body: '<p> Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent sodales diam quis ligula rhoncus, et feugiat mauris congue. Donec accumsan sed arcu id laoreet. </p>'
        });
        return markup;
      }
    })}\`;
  }
}`,...(k=(T=v.parameters)==null?void 0:T.docs)==null?void 0:k.source}}};const W=["Default"];export{v as Default,W as __namedExportsOrder,N as default};
