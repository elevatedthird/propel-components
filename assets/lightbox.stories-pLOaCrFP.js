import{t as w,D as v,T as p,a as b}from"./twig--J2y2TUI.js";import"./dialog.pcss-BKZMSXbz.js";import"./glide.pcss-BQFyalFE.js";import"./_commonjsHelpers-D6-XlEtG.js";const h=t=>{t.extendFunction("include",(i,s)=>{const d=window.SDC_MANIFEST[i];if(!d)throw new Error(`Template ${i} not found`);const{id:e,href:o}=d;try{const r=t.twig({ref:e});if(r)return r.render(s);throw new Error(`Template ${i} not found`)}catch{const n=t.twig({id:e,href:o,async:!1});if(n)return n.render(s);throw new Error(`Template ${i} not found`)}})};h(p);const T=t=>t.extendFilter("clean_unique_id",i=>i);T(p);b(p);p.cache(!1);const l=t=>t,f=(t={})=>{const i=w.twig({id:"/home/runner/work/propel-components/propel-components/components/02-blocks/lightbox/lightbox.twig",data:[{type:"raw",value:`
`,position:{start:49,end:50}},{type:"raw",value:`

`,position:{start:104,end:106}},{type:"logic",token:{type:"Twig.logic.type.set",key:"modal_id",expression:[{type:"Twig.expression.type.string",value:"modal"},{type:"Twig.expression.type.filter",value:"clean_unique_id",match:["|clean_unique_id","clean_unique_id"],params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}],position:{start:106,end:152}},position:{start:106,end:152}},{type:"raw",value:`
<div class="lightbox">
 `,position:{start:153,end:178}},{type:"raw",value:`
  <div class="grid grid-cols-1 md:grid-cols-2 gap-6 lg:grid-cols-3">
    `,position:{start:207,end:281}},{type:"logic",token:{type:"Twig.logic.type.for",keyVar:null,valueVar:"thumbnail",expression:[{type:"Twig.expression.type.variable",value:"thumbnails",match:["thumbnails"]}],position:{start:281,end:315},output:[{type:"raw",value:'      <div class="cursor-pointer" tabindex="0" data-index=',position:{start:316,end:374}},{type:"output",position:{start:374,end:391},stack:[{type:"Twig.expression.type.variable",value:"loop",match:["loop"],position:{start:374,end:391}},{type:"Twig.expression.type.key.period",position:{start:374,end:391},key:"index0"}]},{type:"raw",value:' aria-controls="',position:{start:391,end:407}},{type:"output",position:{start:407,end:421},stack:[{type:"Twig.expression.type.variable",value:"modal_id",match:["modal_id"],position:{start:407,end:421}}]},{type:"raw",value:'" data-micromodal-trigger="',position:{start:421,end:448}},{type:"output",position:{start:448,end:462},stack:[{type:"Twig.expression.type.variable",value:"modal_id",match:["modal_id"],position:{start:448,end:462}}]},{type:"raw",value:`">
        `,position:{start:462,end:473}},{type:"output",position:{start:473,end:488},stack:[{type:"Twig.expression.type.variable",value:"thumbnail",match:["thumbnail"],position:{start:473,end:488}}]},{type:"raw",value:`
      </div>
    `,position:{start:488,end:506}}]},position:{open:{start:281,end:315},close:{start:506,end:518}}},{type:"raw",value:`  </div>
  `,position:{start:519,end:530}},{type:"raw",value:`
  `,position:{start:558,end:561}},{type:"logic",token:{type:"Twig.logic.type.setcapture",key:"controls",position:{start:561,end:579},output:[{type:"raw",value:"    ",position:{start:580,end:584}},{type:"output",position:{start:584,end:1326},stack:[{type:"Twig.expression.type._function",position:{start:584,end:1326},fn:"include",params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("],position:{start:584,end:1326}},{type:"Twig.expression.type.string",value:"kinetic:glide-arrows",position:{start:584,end:1326}},{type:"Twig.expression.type.comma",position:{start:584,end:1326}},{type:"Twig.expression.type.object.start",value:"{",match:["{"],position:{start:584,end:1326}},{type:"Twig.expression.type.operator.binary",value:":",position:{start:584,end:1326},precidence:16,associativity:"rightToLeft",operator:":",key:"classes"},{type:"Twig.expression.type.object.start",value:"{",match:["{"],position:{start:584,end:1326}},{type:"Twig.expression.type.operator.binary",value:":",position:{start:584,end:1326},precidence:16,associativity:"rightToLeft",operator:":",key:"arrows"},{type:"Twig.expression.type.string",value:"absolute top-[-22px] left-0 w-full h-full flex justify-between items-center pointer-events-none",position:{start:584,end:1326}},{type:"Twig.expression.type.comma",position:{start:584,end:1326}},{type:"Twig.expression.type.operator.binary",value:":",position:{start:584,end:1326},precidence:16,associativity:"rightToLeft",operator:":",key:"arrow_prev"},{type:"Twig.expression.type.string",value:"cursor-pointer pointer-events-auto relative md:right-[80px] w-[48px] h-[48px] border-none flex items-center justify-start md:justify-center rounded-lg md:bg-black/75 after:icon-arrow-prev/md after:bg-black md:after:bg-white mask-size-[20px] z-10",position:{start:584,end:1326}},{type:"Twig.expression.type.comma",position:{start:584,end:1326}},{type:"Twig.expression.type.operator.binary",value:":",position:{start:584,end:1326},precidence:16,associativity:"rightToLeft",operator:":",key:"arrow_next"},{type:"Twig.expression.type.string",value:"cursor-pointer pointer-events-auto relative md:left-[80px] w-[48px] h-[48px] border-none flex items-center justify-end md:justify-center rounded-lg md:bg-black/75 after:icon-arrow-next/md after:bg-black md:after:bg-white mask-size-[20px] z-10",position:{start:584,end:1326}},{type:"Twig.expression.type.comma",position:{start:584,end:1326}},{type:"Twig.expression.type.object.end",value:"}",match:["}"],position:{start:584,end:1326}},{type:"Twig.expression.type.object.end",value:"}",match:["}"],position:{start:584,end:1326}},{type:"Twig.expression.type.comma",position:{start:584,end:1326}},{type:"Twig.expression.type.operator.binary",value:":",position:{start:584,end:1326},precidence:16,associativity:"rightToLeft",operator:":",key:"with_context"},{type:"Twig.expression.type.bool",value:!1,position:{start:584,end:1326}},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],position:{start:584,end:1326},expression:!1}]}]},{type:"raw",value:`
  `,position:{start:1326,end:1329}}]},position:{open:{start:561,end:579},close:{start:1329,end:1341}}},{type:"raw",value:`
  `,position:{start:1342,end:1345}},{type:"logic",token:{type:"Twig.logic.type.setcapture",key:"modal_content",position:{start:1345,end:1368},output:[{type:"raw",value:"    ",position:{start:1369,end:1373}},{type:"output",position:{start:1373,end:1570},stack:[{type:"Twig.expression.type._function",position:{start:1373,end:1570},fn:"include",params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("],position:{start:1373,end:1570}},{type:"Twig.expression.type.string",value:"kinetic:glide",position:{start:1373,end:1570}},{type:"Twig.expression.type.comma",position:{start:1373,end:1570}},{type:"Twig.expression.type.object.start",value:"{",match:["{"],position:{start:1373,end:1570}},{type:"Twig.expression.type.operator.binary",value:":",position:{start:1373,end:1570},precidence:16,associativity:"rightToLeft",operator:":",key:"classes"},{type:"Twig.expression.type.array.start",value:"[",match:["["],position:{start:1373,end:1570}},{type:"Twig.expression.type.string",value:"carousel",position:{start:1373,end:1570}},{type:"Twig.expression.type.array.end",value:"]",match:["]"],position:{start:1373,end:1570}},{type:"Twig.expression.type.comma",position:{start:1373,end:1570}},{type:"Twig.expression.type.operator.binary",value:":",position:{start:1373,end:1570},precidence:16,associativity:"rightToLeft",operator:":",key:"behavior_name"},{type:"Twig.expression.type.string",value:"lightboxGlide",position:{start:1373,end:1570}},{type:"Twig.expression.type.comma",position:{start:1373,end:1570}},{type:"Twig.expression.type.operator.binary",value:":",position:{start:1373,end:1570},precidence:16,associativity:"rightToLeft",operator:":",key:"slide_count"},{type:"Twig.expression.type.number",value:2,match:["2",null],position:{start:1373,end:1570}},{type:"Twig.expression.type.comma",position:{start:1373,end:1570}},{type:"Twig.expression.type.operator.binary",value:":",position:{start:1373,end:1570},precidence:16,associativity:"rightToLeft",operator:":",key:"items"},{type:"Twig.expression.type.variable",value:"lightbox",match:["lightbox"],position:{start:1373,end:1570}},{type:"Twig.expression.type.comma",position:{start:1373,end:1570}},{type:"Twig.expression.type.operator.binary",value:":",position:{start:1373,end:1570},precidence:16,associativity:"rightToLeft",operator:":",key:"controls"},{type:"Twig.expression.type.variable",value:"controls",match:["controls"],position:{start:1373,end:1570}},{type:"Twig.expression.type.object.end",value:"}",match:["}"],position:{start:1373,end:1570}},{type:"Twig.expression.type.comma",position:{start:1373,end:1570}},{type:"Twig.expression.type.operator.binary",value:":",position:{start:1373,end:1570},precidence:16,associativity:"rightToLeft",operator:":",key:"with_context"},{type:"Twig.expression.type.bool",value:!1,position:{start:1373,end:1570}},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],position:{start:1373,end:1570},expression:!1}]}]},{type:"raw",value:`
  `,position:{start:1570,end:1573}}]},position:{open:{start:1345,end:1368},close:{start:1573,end:1585}}},{type:"raw",value:`
  `,position:{start:1586,end:1589}},{type:"raw",value:`
  `,position:{start:1601,end:1604}},{type:"output",position:{start:1604,end:1781},stack:[{type:"Twig.expression.type._function",position:{start:1604,end:1781},fn:"include",params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("],position:{start:1604,end:1781}},{type:"Twig.expression.type.string",value:"kinetic:dialog",position:{start:1604,end:1781}},{type:"Twig.expression.type.comma",position:{start:1604,end:1781}},{type:"Twig.expression.type.object.start",value:"{",match:["{"],position:{start:1604,end:1781}},{type:"Twig.expression.type.operator.binary",value:":",position:{start:1604,end:1781},precidence:16,associativity:"rightToLeft",operator:":",key:"modal_id"},{type:"Twig.expression.type.variable",value:"modal_id",match:["modal_id"],position:{start:1604,end:1781}},{type:"Twig.expression.type.comma",position:{start:1604,end:1781}},{type:"Twig.expression.type.operator.binary",value:":",position:{start:1604,end:1781},precidence:16,associativity:"rightToLeft",operator:":",key:"modal_heading"},{type:"Twig.expression.type.null",value:null,position:{start:1604,end:1781}},{type:"Twig.expression.type.comma",position:{start:1604,end:1781}},{type:"Twig.expression.type.operator.binary",value:":",position:{start:1604,end:1781},precidence:16,associativity:"rightToLeft",operator:":",key:"modal_content"},{type:"Twig.expression.type.variable",value:"modal_content",match:["modal_content"],position:{start:1604,end:1781}},{type:"Twig.expression.type.comma",position:{start:1604,end:1781}},{type:"Twig.expression.type.operator.binary",value:":",position:{start:1604,end:1781},precidence:16,associativity:"rightToLeft",operator:":",key:"behavior_name"},{type:"Twig.expression.type.string",value:"lightboxModal",position:{start:1604,end:1781}},{type:"Twig.expression.type.object.end",value:"}",match:["}"],position:{start:1604,end:1781}},{type:"Twig.expression.type.comma",position:{start:1604,end:1781}},{type:"Twig.expression.type.operator.binary",value:":",position:{start:1604,end:1781},precidence:16,associativity:"rightToLeft",operator:":",key:"with_context"},{type:"Twig.expression.type.bool",value:!1,position:{start:1604,end:1781}},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],position:{start:1604,end:1781},expression:!1}]}]},{type:"raw",value:`
</div>`,position:{start:1781,end:1781}}],precompiled:!0});i.options.allowInlineIncludes=!0;try{let s=t.defaultAttributes?t.defaultAttributes:[];return Array.isArray(s)||(s=Object.entries(s)),l(i.render({attributes:new v(s),...t}))}catch(s){return l("An error occurred whilst rendering /home/runner/work/propel-components/propel-components/components/02-blocks/lightbox/lightbox.twig: "+s.toString())}};Drupal.behaviors.lightboxGlide={glide:null,options:{perView:1,rewind:!1,gap:0,dragThreshold:!1,animationDuration:0},init(t,i){this.glide=t;const s=i.closest(".lightbox");once("lightbox-glide","[data-micromodal-trigger]",s).forEach(e=>{e.addEventListener("keydown",o=>{(o.code==="Enter"||o.code==="Space")&&e.click()}),e.addEventListener("click",o=>{o.preventDefault();const r=parseInt(e.getAttribute("data-index"),10);this.glide.go("="+r)})}),t.on("mount.after",()=>{const e=i.querySelector(".glide__arrow--left");t.index===0&&(e.classList.add("opacity-0"),e.setAttribute("aria-hidden","true"),e.setAttribute("tabindex","-1"),e.setAttribute("disabled","true"))}),t.on("run.after",()=>{console.log("run.after",t.index);const e=i.querySelector(".glide__arrow--left"),o=i.querySelector(".glide__arrow--right"),r=i.closest(".lightbox"),n=parseInt(r.dataset.maxItems,10);t.index===0?(e.classList.add("opacity-0"),e.setAttribute("aria-hidden","true"),e.setAttribute("tabindex","-1"),e.setAttribute("disabled","true")):(e.classList.remove("opacity-0"),e.removeAttribute("aria-hidden"),e.removeAttribute("tabindex"),e.removeAttribute("disabled")),t.index>=n-1?(o.classList.add("opacity-0"),o.setAttribute("aria-hidden","true"),o.setAttribute("tabindex","-1"),o.setAttribute("disabled","true")):(o.classList.remove("opacity-0"),o.removeAttribute("aria-hidden"),o.removeAttribute("tabindex"),o.removeAttribute("disabled"));const g=i.querySelector(".glide__slide--active"),m=i.querySelector(".glide__track"),x=g.offsetHeight;m.style.height=`${x}px`}),t.mount()}};Drupal.behaviors.lightboxModal={options:{awaitOpenAnimation:!0,onShow:()=>Drupal.behaviors.lightboxGlide.glide.update()},init(t,i){}};const j={title:"02-blocks/lightbox",tags:["autodocs"],parameters:{docs:{description:{component:"Provides a lightbox component for displaying images in a modal view"},source:{code:"drush propel:add lightbox"}}},argTypes:{}},a={args:{},render:t=>f({...t,thumbnails:()=>"<!-- thumbnails slot content -->",lightbox:()=>"<!-- lightbox slot content -->"})};var y,c,u;a.parameters={...a.parameters,docs:{...(y=a.parameters)==null?void 0:y.docs,source:{originalSource:`{
  args: {},
  render: args => {
    return lightbox({
      ...args,
      thumbnails: () => '<!-- thumbnails slot content -->',
      lightbox: () => '<!-- lightbox slot content -->'
    });
  }
}`,...(u=(c=a.parameters)==null?void 0:c.docs)==null?void 0:u.source}}};const S=["Default"];export{a as Default,S as __namedExportsOrder,j as default};
