import{t as q,D as _,T as f,a as I}from"./twig--J2y2TUI.js";import{g as F}from"./_commonjsHelpers-D6-XlEtG.js";const S=r=>{r.extendFunction("include",(a,l)=>{const u=window.SDC_MANIFEST[a];if(!u)throw new Error(`Template ${a} not found`);const{id:d,href:h}=u;try{const g=r.twig({ref:d});if(g)return g.render(l);throw new Error(`Template ${a} not found`)}catch{const m=r.twig({id:d,href:h,async:!1});if(m)return m.render(l);throw new Error(`Template ${a} not found`)}})};S(f);const O=r=>r.extendFilter("clean_unique_id",a=>a);O(f);I(f);f.cache(!1);const x=r=>r,D=(r={})=>{const a=q.twig({id:"/home/runner/work/propel-components/propel-components/components/02-blocks/accordion/accordion.twig",data:[{type:"logic",token:{type:"Twig.logic.type.set",key:"attributes",expression:[{type:"Twig.expression.type.variable",value:"attributes",match:["attributes"]},{type:"Twig.expression.type.key.period",key:"setAttribute"},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!0,params:[{type:"Twig.expression.type.string",value:"data-open"},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.variable",value:"open",match:["open"]},{type:"Twig.expression.type.filter",value:"default",match:["|default","default"],params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.bool",value:!1},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]}],position:{start:0,end:80}},position:{start:0,end:80}},{type:"logic",token:{type:"Twig.logic.type.set",key:"attributes",expression:[{type:"Twig.expression.type.variable",value:"attributes",match:["attributes"]},{type:"Twig.expression.type.key.period",key:"setAttribute"},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!0,params:[{type:"Twig.expression.type.string",value:"data-allow-multiple"},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.variable",value:"allow_multiple",match:["allow_multiple"]},{type:"Twig.expression.type.filter",value:"default",match:["|default","default"],params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.bool",value:!1},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]}],position:{start:81,end:181}},position:{start:81,end:181}},{type:"raw",value:`
<div `,position:{start:182,end:188}},{type:"output",position:{start:188,end:226},stack:[{type:"Twig.expression.type.variable",value:"attributes",match:["attributes"],position:{start:188,end:226}},{type:"Twig.expression.type.key.period",position:{start:188,end:226},key:"addClass"},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],position:{start:188,end:226},expression:!0,params:[{type:"Twig.expression.type.string",value:"accordion",position:{start:188,end:226}}]}]},{type:"raw",value:`>
  `,position:{start:226,end:230}},{type:"output",position:{start:230,end:251},stack:[{type:"Twig.expression.type.variable",value:"accordion_items",match:["accordion_items"],position:{start:230,end:251}}]},{type:"raw",value:`
</div>

`,position:{start:251,end:251}}],precompiled:!0});a.options.allowInlineIncludes=!0;try{let l=r.defaultAttributes?r.defaultAttributes:[];return Array.isArray(l)||(l=Object.entries(l)),x(a.render({attributes:new _(l),...r}))}catch(l){return x("An error occurred whilst rendering /home/runner/work/propel-components/propel-components/components/02-blocks/accordion/accordion.twig: "+l.toString())}};var b={exports:{}},E;function P(){return E||(E=1,function(r){(function(a){let l=0;const u=function(d,h){const g=this;let m=!1;if(Array.isArray(d))return!!d.length&&d.map(e=>new u(e,h));const n={init(){this.options=Object.assign({duration:500,ariaEnabled:!0,collapse:!0,showMultiple:!1,onlyChildNodes:!0,openOnInit:[],elementClass:"ac",triggerClass:"ac-trigger",panelClass:"ac-panel",activeClass:"is-active",beforeOpen:()=>{},onOpen:()=>{},beforeClose:()=>{},onClose:()=>{}},h);const e=typeof d=="string";this.container=e?document.querySelector(d):d,this.createDefinitions(),g.attachEvents()},createDefinitions(){const{elementClass:e,openOnInit:t,onlyChildNodes:s}=this.options,o=s?this.container.childNodes:this.container.querySelectorAll(p(e));this.elements=Array.from(o).filter(i=>i.classList&&i.classList.contains(e)),this.firstElement=this.elements[0],this.lastElement=this.elements[this.elements.length-1],this.elements.filter(i=>!i.classList.contains("js-enabled")).forEach(i=>{i.classList.add("js-enabled"),this.generateIDs(i),this.setARIA(i),this.setTransition(i);const c=this.elements.indexOf(i);l++,t.includes(c)?this.showElement(i,!1):this.closeElement(i,!1)})},setTransition(e){let t=arguments.length>1&&arguments[1]!==void 0&&arguments[1];const{duration:s,panelClass:o}=this.options;e.querySelector(p(o)).style.transitionDuration=t?null:"".concat(s,"ms")},generateIDs(e){const{triggerClass:t,panelClass:s}=this.options,o=e.querySelector(p(t)),i=e.querySelector(p(s));e.setAttribute("id",e.id||"ac-".concat(l)),o.setAttribute("id",o.id||"ac-trigger-".concat(l)),i.setAttribute("id",i.id||"ac-panel-".concat(l))},removeIDs(e){const{triggerClass:t,panelClass:s}=this.options,o=e.querySelector(p(t)),i=e.querySelector(p(s));e.id.startsWith("ac-")&&e.removeAttribute("id"),o.id.startsWith("ac-")&&o.removeAttribute("id"),i.id.startsWith("ac-")&&i.removeAttribute("id")},setARIA(e){const{ariaEnabled:t,triggerClass:s,panelClass:o}=this.options;if(!t)return;const i=e.querySelector(p(s)),c=e.querySelector(p(o));i.setAttribute("role","button"),i.setAttribute("aria-controls",c.id),i.setAttribute("aria-disabled",!1),i.setAttribute("aria-expanded",!1),c.setAttribute("role","region"),c.setAttribute("aria-labelledby",i.id)},updateARIA(e,t){let{ariaExpanded:s,ariaDisabled:o}=t;const{ariaEnabled:i,triggerClass:c}=this.options;if(!i)return;const y=e.querySelector(p(c));y.setAttribute("aria-expanded",s),y.setAttribute("aria-disabled",o)},removeARIA(e){const{ariaEnabled:t,triggerClass:s,panelClass:o}=this.options;if(!t)return;const i=e.querySelector(p(s)),c=e.querySelector(p(o));i.removeAttribute("role"),i.removeAttribute("aria-controls"),i.removeAttribute("aria-disabled"),i.removeAttribute("aria-expanded"),c.removeAttribute("role"),c.removeAttribute("aria-labelledby")},focus(e,t){e.preventDefault();const{triggerClass:s}=this.options;t.querySelector(p(s)).focus()},focusFirstElement(e){this.focus(e,this.firstElement),this.currFocusedIdx=0},focusLastElement(e){this.focus(e,this.lastElement),this.currFocusedIdx=this.elements.length-1},focusNextElement(e){const t=this.currFocusedIdx+1;if(t>this.elements.length-1)return this.focusFirstElement(e);this.focus(e,this.elements[t]),this.currFocusedIdx=t},focusPrevElement(e){const t=this.currFocusedIdx-1;if(t<0)return this.focusLastElement(e);this.focus(e,this.elements[t]),this.currFocusedIdx=t},showElement(e){let t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];const{panelClass:s,activeClass:o,collapse:i,beforeOpen:c}=this.options;t&&c(e);const y=e.querySelector(p(s)),L=y.scrollHeight;e.classList.add(o),requestAnimationFrame(()=>{requestAnimationFrame(()=>{y.style.height=t?"".concat(L,"px"):"auto"})}),this.updateARIA(e,{ariaExpanded:!0,ariaDisabled:!i})},closeElement(e){let t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];const{panelClass:s,activeClass:o,beforeClose:i}=this.options,c=e.querySelector(p(s)),y=c.scrollHeight;e.classList.remove(o),t?(i(e),requestAnimationFrame(()=>{c.style.height="".concat(y,"px"),requestAnimationFrame(()=>{c.style.height=0})})):c.style.height=0,this.updateARIA(e,{ariaExpanded:!1,ariaDisabled:!1})},toggleElement(e){const{activeClass:t,collapse:s}=this.options,o=e.classList.contains(t);if(!o||s)return o?this.closeElement(e):this.showElement(e)},closeElements(){const{activeClass:e,showMultiple:t}=this.options;t||this.elements.forEach((s,o)=>{s.classList.contains(e)&&o!==this.currFocusedIdx&&this.closeElement(s)})},handleClick(e){const t=e.currentTarget;this.elements.forEach((s,o)=>{s.contains(t)&&e.target.nodeName!=="A"&&(this.currFocusedIdx=o,this.closeElements(),this.focus(e,s),this.toggleElement(s))})},handleKeydown(e){switch(e.key){case"ArrowUp":return this.focusPrevElement(e);case"ArrowDown":return this.focusNextElement(e);case"Home":return this.focusFirstElement(e);case"End":return this.focusLastElement(e);default:return null}},handleFocus(e){const t=e.currentTarget,s=this.elements.find(o=>o.contains(t));this.currFocusedIdx=this.elements.indexOf(s)},handleTransitionEnd(e){if(e.stopPropagation(),e.propertyName!=="height")return;const{onOpen:t,onClose:s}=this.options,o=e.currentTarget,i=parseInt(o.style.height),c=this.elements.find(y=>y.contains(o));i>0?(o.style.height="auto",t(c)):s(c)}};this.attachEvents=()=>{if(m)return;const{triggerClass:e,panelClass:t}=n.options;n.handleClick=n.handleClick.bind(n),n.handleKeydown=n.handleKeydown.bind(n),n.handleFocus=n.handleFocus.bind(n),n.handleTransitionEnd=n.handleTransitionEnd.bind(n),n.elements.forEach(s=>{const o=s.querySelector(p(e)),i=s.querySelector(p(t));o.addEventListener("click",n.handleClick),o.addEventListener("keydown",n.handleKeydown),o.addEventListener("focus",n.handleFocus),i.addEventListener("transitionend",n.handleTransitionEnd)}),m=!0},this.detachEvents=()=>{if(!m)return;const{triggerClass:e,panelClass:t}=n.options;n.elements.forEach(s=>{const o=s.querySelector(p(e)),i=s.querySelector(p(t));o.removeEventListener("click",n.handleClick),o.removeEventListener("keydown",n.handleKeydown),o.removeEventListener("focus",n.handleFocus),i.removeEventListener("transitionend",n.handleTransitionEnd)}),m=!1},this.toggle=e=>{const t=n.elements[e];t&&n.toggleElement(t)},this.open=e=>{const t=n.elements[e];t&&n.showElement(t)},this.openAll=()=>{const{activeClass:e,onOpen:t}=n.options;n.elements.forEach(s=>{s.classList.contains(e)||(n.showElement(s,!1),t(s))})},this.close=e=>{const t=n.elements[e];t&&n.closeElement(t)},this.closeAll=()=>{const{activeClass:e,onClose:t}=n.options;n.elements.forEach(s=>{s.classList.contains(e)&&(n.closeElement(s,!1),t(s))})},this.destroy=()=>{this.detachEvents(),this.openAll(),n.elements.forEach(e=>{n.removeIDs(e),n.removeARIA(e),n.setTransition(e,!0)}),m=!0},this.update=()=>{n.createDefinitions(),this.detachEvents(),this.attachEvents()};const p=e=>".".concat(CSS.escape(e));n.init()};r.exports!==void 0?r.exports=u:a.Accordion=u})(window)}(b)),b.exports}var H=P();const $=F(H);Drupal.behaviors.accordion={attach(r){once("accordion",".accordion",r).forEach(l=>{const{allowMultiple:u,open:d}=l.dataset,h={showMultiple:u==="true"};d==="true"&&(h.openOnInit=[0]),new $(l,h)})}};const R=r=>{r.extendFunction("include",(a,l)=>{const u=window.SDC_MANIFEST[a];if(!u)throw new Error(`Template ${a} not found`);const{id:d,href:h}=u;try{const g=r.twig({ref:d});if(g)return g.render(l);throw new Error(`Template ${a} not found`)}catch{const m=r.twig({id:d,href:h,async:!1});if(m)return m.render(l);throw new Error(`Template ${a} not found`)}})};R(f);const j=r=>r.extendFilter("clean_unique_id",a=>a);j(f);I(f);f.cache(!1);const A=r=>r,w=(r={})=>{const a=q.twig({id:"/home/runner/work/propel-components/propel-components/components/01-composites/accordion-item/accordion-item.twig",data:[{type:"logic",token:{type:"Twig.logic.type.set",key:"heading_level",expression:[{type:"Twig.expression.type.variable",value:"heading_level",match:["heading_level"]},{type:"Twig.expression.type.filter",value:"default",match:["|default","default"],params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.number",value:4,match:["4",null]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}],position:{start:0,end:50}},position:{start:0,end:50}},{type:"raw",value:`
<div`,position:{start:51,end:56}},{type:"output",position:{start:56,end:127},stack:[{type:"Twig.expression.type.variable",value:"attributes",match:["attributes"],position:{start:56,end:127}},{type:"Twig.expression.type.key.period",position:{start:56,end:127},key:"addClass"},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],position:{start:56,end:127},expression:!0,params:[{type:"Twig.expression.type.array.start",value:"[",match:["["],position:{start:56,end:127}},{type:"Twig.expression.type.string",value:"ac",position:{start:56,end:127}},{type:"Twig.expression.type.comma",position:{start:56,end:127}},{type:"Twig.expression.type.string",value:"pt-4",position:{start:56,end:127}},{type:"Twig.expression.type.comma",position:{start:56,end:127}},{type:"Twig.expression.type.string",value:"border-b-1",position:{start:56,end:127}},{type:"Twig.expression.type.comma",position:{start:56,end:127}},{type:"Twig.expression.type.string",value:"border-black",position:{start:56,end:127}},{type:"Twig.expression.type.array.end",value:"]",match:["]"],position:{start:56,end:127}}]}]},{type:"raw",value:`>
  <h`,position:{start:127,end:133}},{type:"output",position:{start:133,end:152},stack:[{type:"Twig.expression.type.variable",value:"heading_level",match:["heading_level"],position:{start:133,end:152}}]},{type:"raw",value:` class="ac-header font-bold relative">
    <button class="ac-trigger w-full text-left flex items-center justify-between" type="button">
      `,position:{start:152,end:294}},{type:"output",position:{start:294,end:307},stack:[{type:"Twig.expression.type.variable",value:"heading",match:["heading"],position:{start:294,end:307}}]},{type:"raw",value:`
    </button>
  </h`,position:{start:307,end:327}},{type:"output",position:{start:327,end:346},stack:[{type:"Twig.expression.type.variable",value:"heading_level",match:["heading_level"],position:{start:327,end:346}}]},{type:"raw",value:`>
  <div id="`,position:{start:346,end:359}},{type:"output",position:{start:359,end:374},stack:[{type:"Twig.expression.type.variable",value:"target_id",match:["target_id"],position:{start:359,end:374}}]},{type:"raw",value:`" class="ac-panel overflow-hidden">
    <div class="ac-text text-formatted py-3">
        `,position:{start:374,end:464}},{type:"output",position:{start:464,end:474},stack:[{type:"Twig.expression.type.variable",value:"body",match:["body"],position:{start:464,end:474}}]},{type:"raw",value:`
    </div>
  </div>
</div>
`,position:{start:474,end:474}}],precompiled:!0});a.options.allowInlineIncludes=!0;try{let l=r.defaultAttributes?r.defaultAttributes:[];return Array.isArray(l)||(l=Object.entries(l)),A(a.render({attributes:new _(l),...r}))}catch(l){return A("An error occurred whilst rendering /home/runner/work/propel-components/propel-components/components/01-composites/accordion-item/accordion-item.twig: "+l.toString())}},N={title:"02-blocks/accordion",tags:["autodocs"],parameters:{docs:{description:{component:"A bootstrap accordion. Providing a trigger and a accordion."},source:{code:"drush propel:add accordion"}}},argTypes:{open:{control:{type:"boolean"},type:{required:!1,name:""},description:"Check if the first item should be opened by default.",table:{type:{summary:"boolean"}}},allow_multiple:{control:{type:"boolean"},type:{required:!1,name:""},description:"Check if multiple items can be opened at the same time.",table:{type:{summary:"boolean"}}}},component:D},v={args:{open:!0,allow_multiple:!0},render:r=>`${D({...r,accordion_items:()=>{let a="";return a+=w({heading:"Heading 1",body:"<p> Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent sodales diam quis ligula rhoncus, et feugiat mauris congue. Donec accumsan sed arcu id laoreet. </p>"}),a+=w({heading:"Heading 2",body:"<p> Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent sodales diam quis ligula rhoncus, et feugiat mauris congue. Donec accumsan sed arcu id laoreet. </p>"}),a+=w({heading:"Heading 3",body:"<p> Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent sodales diam quis ligula rhoncus, et feugiat mauris congue. Donec accumsan sed arcu id laoreet. </p>"}),a+=w({heading:"Heading 4",body:"<p> Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent sodales diam quis ligula rhoncus, et feugiat mauris congue. Donec accumsan sed arcu id laoreet. </p>"}),a}})}`};var T,k,C;v.parameters={...v.parameters,docs:{...(T=v.parameters)==null?void 0:T.docs,source:{originalSource:`{
  args: {
    open: true,
    allow_multiple: true
  },
  render: context => {
    return \`\${accordion({
      ...context,
      accordion_items: () => {
        let markup = '';
        markup += AccordionItem({
          heading: \`Heading 1\`,
          body: '<p> Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent sodales diam quis ligula rhoncus, et feugiat mauris congue. Donec accumsan sed arcu id laoreet. </p>'
        });
        markup += AccordionItem({
          heading: \`Heading 2\`,
          body: '<p> Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent sodales diam quis ligula rhoncus, et feugiat mauris congue. Donec accumsan sed arcu id laoreet. </p>'
        });
        markup += AccordionItem({
          heading: \`Heading 3\`,
          body: '<p> Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent sodales diam quis ligula rhoncus, et feugiat mauris congue. Donec accumsan sed arcu id laoreet. </p>'
        });
        markup += AccordionItem({
          heading: \`Heading 4\`,
          body: '<p> Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent sodales diam quis ligula rhoncus, et feugiat mauris congue. Donec accumsan sed arcu id laoreet. </p>'
        });
        return markup;
      }
    })}\`;
  }
}`,...(C=(k=v.parameters)==null?void 0:k.docs)==null?void 0:C.source}}};const W=["Default"];export{v as Default,W as __namedExportsOrder,N as default};
